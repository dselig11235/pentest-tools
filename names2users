#!/usr/bin/perl

#while read name; do
#    last=$(echo ${name%%,*})
#    firstmid=$(echo ${name##*,})
#    first=$(echo ${firstmid% *})
#    mid=$(echo ${firstmid#* })
#    echo "'$first' '$mid' '$last'"
#done

my ($first, $mid, $last) = ('', '', '');
while(<>) {
    $_ = lc $_;
    if(/(['\w]+),\s*(['\w]+)\s+(['\w]+)/) {
        ($first, $mid, $last) = ($2, $3, $1);
    } elsif(/(['\w]+),\s*(['\w]+)/) {
        ($first, $last) = ($2, $1);
    } elsif(/(['\w]+) (['\w]+)/) {
        ($first, $last) = ($1, $2);
    } elsif(/(['\w]+) (['\w]+) (['\w]+)/) {
        ($first, $mid, $last) = ($1, $2, $3);
    }
    $first =~ s/'//;
    $mid =~ s/'//;
    $last =~ s/'//;
    print "$first.$last\n";
    print substr($first,0,1), "$last\n";
    print "$first", substr($last,0,1), "\n";
    print "$first\n";
    print "$last\n";
}

#print("'$first' '$mid' '$last'\n");
